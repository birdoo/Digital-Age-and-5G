# 第3章 从乌托邦到现实



·       IPv6降临人间，“门牌号”多达340万亿个

·       人工智能正在变得越来越“小”

·       无线通讯技术中最值得关注的5个进展

·       边缘智能正在触发万亿市场

·       平台之上的平台、工具与服务

·       AIoT应用是数据价值变现的标配

智联网的系统架构，我们应该从哪里开始说起呢？按照一般的做法，一开始介绍某样东西的时候，我们都会先从介绍它的背景知识、历史发展和主要原理开始说起，然后顺利的把你看得想打哈欠。在你的思维开始游荡，睡意开始袭来之前，我们先讲个故事吧。

这是一个救火的故事。有一天，在郊区的一处单层住宅，发生了一场乍看非常简单的火灾。火苗据称是从房子后面的厨房里窜出来的，于是一名消防指挥官带领消防员冲入厨房，试图扑灭火苗。但很快，火势就超出了他的预判，他感觉厨房里的温度比眼前这种规模的火灾要高，但燃烧发出的响声却低得多。闪念之间，他命令消防员迅速撤出该建筑物。几秒后，地板坍陷了。原来地下室里有一场规模更大的火灾。为什么这名指挥官能迅速判断危险，并及时撤退？

从业多年，让这名消防指挥官在火情方面已经积累了足够多的经验。对于新的情况，他可以迅速做出判断，并基于直觉做出正确决定。在紧急情况下，建立在经验基础之上的直觉确实发挥了重要作用。这一直觉有两层逻辑，一是仅仅厨房着火不可能有这么高的温度，二是这么高温度的火灾，不可能这么安静。两者一结合，就发现另有玄机。

消防指挥官的“直觉逻辑”可以理解为一个简化版的分层架构。分层架构是运用最为广泛的架构模式，几乎每个复杂系统都需要通过不同层级的划分，来隔离不同的关注点，以此应对不同的需求和技术变化，使得这种变化可以独立进行。此外，分层架构模式还是隔离业务复杂度与技术复杂度的利器。

在《领域驱动设计模式、原理与实践》一书中，最为透彻的介绍了软件的分层及其原因，书中写道：为了避免将代码库变成一个大泥球，从而减弱领域模型的完整性，且最终减弱可用性，系统架构要支持技术复杂性与领域复杂性的分离。

分层架构模式有助于构建这样的应用：它能被分解成子任务组，其中每个子任务组处于一个特定的抽象层次上。显然，这里所谓的“分层”首先是一个逻辑的分层，对子任务组的分解需要考虑抽象层次，一种水平的抽象层次。既然为水平的分层，必然存在层的高与低；而抽象层次的不同，又决定了分层的数量。因此，对于分层架构，我们需要解决如下两个问题：第一，分层的依据与原则是什么？第二，层与层之间是怎样协作的？

首先，我们来回答分层的依据与原则。我们之所以要按照一定的方式对整个系统进行分层，是我们下意识地确定了一个认知规则：数据为本，用户至上。数据是运行系统的基础，而我们打造的系统却是为用户提供服务的。分层架构中的层次越往上，其抽象层次就越面向业务，面向用户；分层架构中的层次越往下，其抽象层次就变得越通用，面向设备。

典型的分层架构一般是三层，为什么普遍采用三层架构？正是源于这样的认知规则：其上，面向用户的体验与交互；其中，面向应用与业务逻辑；其下，面对各种外部资源与设备。在进行分层架构设计时，我们完全可以基于这个经典的三层架构，进一步切分属于不同抽象层次的关注点。因此，分层的第一个依据是基于关注点为不同的调用目的划分层次。

分层的第二个依据是面对变化。分层时应针对不同的变化原因确定层次的边界，严禁层次之间互相干扰，或者至少将变化对各层带来的影响降到最低。例如数据库结构的修改自然会影响到基础设施层的数据模型以及应用层的行业模型，但当我们仅需要修改基础设施层中数据库访问的实现逻辑时，就不应该影响到行业应用层了。

分层的第三个依据是层与层之间的关系应该尽量是正交的。所谓“正交”，并非二者之间没有关系，而是垂直相交的两条直线。唯一相关的依赖点是这两条直线的相交点，即两层之间的协作点。正交的两条直线，无论哪条直线进行延伸，都不会对另一条直线产生任何影响（指直线的投影）。如果非正交，即“斜交”，当一条直线延伸时，它总是会投影到另一条直线，这就意味着另一条直线会受到它变化的影响。在进行分层时，我们还应该保证同一层的组件基本处于同一个抽象层次。

其次，我们回答不同层级之间协作的问题。在我们固有的认识中，分层架构的依赖都是自顶向下传递的，这也符合大多数人对分层的认知模型。从抽象层次看，层次越处于下端，就会变得越通用越公共，与具体的业务隔离得越远。

但是，依赖倒置原则（DIP）提出了对这种自顶向下依赖的挑战。这个原则正本清源，给了我们当头棒喝：谁规定在分层架构中，依赖就一定要沿着自顶向下的方向传递？层之间的协作并不一定是自顶向下的传递通信，也有可能是自底向上通信。

例如在工业互联网中，往往会由低层的设备监测系统监测设备状态的变化。当状态发生变化时，需要将变化的状态通知到上层的业务系统。如果说自顶向下的消息传递往往被描述为“请求”，则自底向上的消息传递则往往被形象地称之为“通知”。倘若我们颠倒一下方向，自然也可以视为这是上层对下层的观察，故而可以运用“监听者”模式，在上层定义“监听”接口，并提供 更新的方法，供下层在感知状态发生变更时调用。

做个小结，对于复杂系统，我们往往通过人为的层级划分进行构建，这种做法的优点包括：

1\)     各层次之间是独立的。某一层并不需要知道它的下一层是如何实现的，而仅仅需要知道该层通过层间的接口所提供的服务。这样，整个问题的复杂程度就下降了。也就是说上一层的工作如何进行并不影响下一层的工作，这样我们在进行每一层的工作设计时只要保证接口不变可以随意调整层内的工作方式。

2\)     灵活性好。当任何一层发生变化时，只要层间接口关系保持不变，则在这层以上或以下层均不受影响。当某一层出现技术革新或者某一层在工作中出现问题时不会连累到其它层的工作，排除问题时也只需要考虑这一层单独的问题即可。

3\)     结构上可分割开。各层都可以采用最合适的技术来实现。技术的发展往往不对称的，层次化的划分有效避免了木桶效应，不会因为某一方面技术的不完善而影响整体的工作效率。

4\)     易于实现和维护。这种结构使得实现和调试一个庞大又复杂的系统变得易于处理，因为整个的系统已经被分解为若干个相对独立的子系统。进行调试和维护时，可以对每一层进行单独的调试，避免了出现找不到、解决错问题的情况。

5\)     能够促进标准化工作。因为每一层的功能及其所提供的服务都已有了精确的说明。标准化的好处就是可以随意替换其中的某一层，对于使用和科研来说十分方便。

现在，我们对分层架构有了更清醒的认识。我们必须要打破那种谈分层架构必为经典三层架构，或者垂直领域驱动设计推荐的四层架构这种固有思维，而是将分层视为关注点分离的水平抽象层次的体现。

既然如此，架构的抽象层数就不是固定的，甚至每一层的名称也未必遵循经典的分层架构要求。设计系统的层需得结合该系统的具体业务场景而定。当然，我们也要认识到层次多少的利弊：过多的层会引入太多的间接而增加不必要的开支，层太少又可能导致关注点不够分离，导致系统的结构不合理。

我们还需要正视架构中各层之间的协作关系，打破高层依赖低层的固有思维，从解除或者降低耦合的角度探索层之间可能的协作关系。另外，我们还需要确定分层的架构原则和约束，例如是否允许跨层调用，即每一层都可以使用比它低的所有层的服务，而不仅仅是相邻低层。这就是所谓的“松散分层系统”。

同时，我们还需要警惕，当分层架构变得越来越普及时，我们的设计有可能反而变得越来越僵化。一部分智联网系统的设计师并未理解分层架构的本质，只知道依样画葫芦地将分层应用到系统中。要么采用经典的三层架构，要么遵循领域驱动设计改进的四层架构，却未思考和追问如此分层究竟有何道理？这有可能成为分层架构被滥用的根源。

那么该怎么演进智联网的技术架构呢？我们提到了经典三层架构与领域驱动设计四层架构，然而任何技术结论都并非句点，而仅仅代表了满足当时技术背景的一种判断，技术总是在演进，领域驱动架构亦是如此。与其关心结果，不如将眼睛投往这个演进的过程，或许风景会更加动人。

从2015年开始酝酿，我所创建的物联网智库研究团队，每个年度都会推出一份物联网IoT产业生态全景图谱。阅读这份产业图谱，是你跟踪产业生态进展、收集物联网领域主要参与者信息、洞察行业未来发展趋势的有效手段。

视野有多宽，观察一个事物的深度就有多深。因此我坚持从产业关联的广度和深度挖掘，探索物联网如何对经济结构的深刻变革带来影响。每一年度，物联网智库都与超过3000家物联网企业进行面对面交流或电话访谈，深入分析300多家领先的物联网代表企业，整理十余份垂直领域的物联网产业动态图谱，并最终汇总形成最新版的物联网IoT产业全景图谱。

如今，物联网与人工智能产业深度融合，升级为智联网。在上一章，我们曾经提到人工智能在经历一个打破炒作、寻求落地的过程。人工智能企业开始探索如何为国民经济各行业赋能，其中与物联网融合、借助物联网应用落地的渠道是人工智能赋能行业的重要一环。从目前情况来看，大部分物联网项目落地过程中都融入了人工智能的元素，终端侧、边缘侧和云端的人工智能能力成为各种物联网应用方案的标准配置，用户也对基于人工智能的决策意愿越来越强烈。智联网AIoT已经不再是各参与方探索的方案，未来没有融入人工智能的物联网解决方案越来越没有竞争力。

当然，智联网的推进不仅仅在于物联网与人工智能的融合，也在不断吸收各种最新前沿技术的进展，成为一个综合性的方案。大数据、区块链、云计算等技术带来最新的洞察、信任机制，但这些技术的发展也和人工智能一样最终要为各行各业赋能，与物联网的融合是一个重要的落地渠道。当然，它们不应该是高高在上的高端技术，也是需要形成能让大部分用户用得起、用得好的普惠型方案，最终也可能成为物联网方案中的标配。

如本书彩图1所示，从整体上来看，智联网的版图仍在不断扩张。在我们发布的最新版智联网图谱中，相比以往，最大的变化是将横向的四层架构变为五层架构，由于边缘计算在智联网业务中的重要性不断提升，因此我们增加了边缘层，从而形成了“端、管、边、云、用”这五层架构，同时辅以纵向的智联网产业配套服务，构成完整智联网版图。

结论是简单的，关系是复杂的。边缘计算并不是孤立的一层，在智联网应用方案中，云端计算、终端计算和边缘计算是一个协同的系统，根据用户场景、资源约束程度、业务实时性等进行动态调配，形成可靠、低成本的应用方案。云计算厂商、IT厂商、运营商和垂直行业厂商等不同角色对于边缘计算的概念、边缘节点位置和边缘计算能力都有不同理解，但面对智联网方案实现云、边、端协同已达成共识。

接下来，我将按照从下到上的智联网图谱架构层次，逐层解读。

### 3.1 IPv6降临人间，“门牌号”多达340万亿个

第一层，端。顾名思义，智联网终端，即包括芯片、传感器、电源、屏幕等硬件设备，也包含操作系统等软件。如果把云比作大脑，那么智联网终端设备就是遍布全球的“神经末梢”，操作系统就是“突触”。虽然终端数量庞大、功能与性能各异、应用极其广泛，但万变不离其宗，终端的主要承担着数据采集以及将数据向网络端发送的作用。

端详物联网产业的“端”，你会发现一个严重的问题。基于互联网协议第四版（IPv4）的全球互联网面临网络地址消耗殆尽，IP不够用了，怎么办？解决方案是使用IPv6。IPv6能够提供充足的网络地址，号称能让地球上的每一粒沙子都拥有一个IP地址，是全球公认的应对下一波互联网和智联网浪潮的商业应用解决方案。

IP地址不够会有什么问题呢？很重要的一点就是难以实现网络实名制。因为IP资源不够，所以不同的人在不同的时间段共用一个IP，IP和上网用户无法实现一一对应。目前的IP版本是IPv4，在Pv4下，根据IP查人也比较麻烦，电信局要保留一段时间的上网日志才行，通常因为数据量很大，运营商只保留三个月左右的上网日志，比如查前年某个IP发帖子的用户就不能实现。

很明显，我们需要更多的IP地址，以满足爆炸式增长的互联网设备对IP地址的需求！于是，IPv6应运而生！较之IPv4使用的32位地址，IPv6使用128位地址，按照上文的计算方法，我们可以计算出IPv6能够提供的地址数为：2^128-1个（大约340万亿个）

340万亿是什么概念？即使地球上每个人都有几十个联网设备，分配的话也绰绰有余。难怪会说，IPv6要给地球上的每一粒沙子都分配一个IP地址。总结一下，与IPV4相比，IPV6具有以下几个优势：

1.     IPv6具有更大的地址空间。IPv4中规定IP地址长度为32，其地址空间增加了2^128-2^32个。

2.     IPv6使用更小的路由表。IPv6的地址分配一开始就遵循聚类（Aggregation）的原则，这使得路由器能在路由表中用一条记录（Entry）表示一片子网，大大减小了路由器中路由表的长度，提高了路由器转发数据包的速度。

3.     IPv6增加了增强的组播（Multicast）支持以及对流的控制（Flow Control），这使得网络上的多媒体应用有了长足发展的机会，为服务质量（QoS，Quality of Service）控制提供了良好的网络平台。

4.     IPv6加入了对自动配置（Auto Configuration）的支持。这是对DHCP协议的改进和扩展，使得网络（尤其是局域网）的管理更加方便和快捷。

5.     IPv6具有更高的安全性。在使用IPv6网络中用户可以对网络层的数据进行加密并对IP报文进行校验，在IPV6中的加密与鉴别选项提供了分组的保密性与完整性。极大的增强了网络的安全性。

6.     允许扩充。如果新的技术或应用需要时，IPV6允许协议进行扩充。

7.     更好的头部格式。IPV6使用新的头部格式，其选项与基本头部分开，如果需要，可将选项插入到基本头部与上层数据之间。这就简化和加速了路由选择过程，因为大多数的选项不需要由路由选择。

8.     新的选项。IPV6有一些新的选项来实现附加的功能。

当然，上面这些都不用记，作为普通人，我们只需要知道：IP地址数量多了，由此带来的便利是每个人都能有自己独立的IP了，可以实现网络实名制下的互联网身份证了，可以搭建网站了等等...说到这里，你肯定还会关心我国IPv6的发展。IPv6从1998年由CERNET（中国教育与科研计算机网）首次引进中国。截止到2017年，教育网的IPv6网络已经覆盖了800多所高校，已经有600万IPv6网络用户，电信、联通、移动的IPv6试点城市里面，合计也有超过1500万的IPv6用户，粗略算一算，国内IPv6的用户数量大约有2000万。不过，中国目前与美国、欧洲国家，乃至于印度之间的差距，不仅没有缩小，反而显著加大，中国在IPv6发展上严重落后。

中国工程院院士、清华大学教授吴建平认为，国家在2003年就将IPv6的发展提上了日程，这是非常正确非常及时的战略决策，当时经过五年的发展，第一期取得了预定的战略目标。但从2008年以后，我国IPv6的发展速度开始放缓，开始落后于国际水平。在吴建平看来，造成今天局面的主要原因有几个。

首先，我国在互联技术使用上还是比较落后的，而且起步比较晚，这就导致了地址短缺，地址短缺造成的应用就是用私有地址出口转换成公有地址。“产业链对IPv6无动于衷，国外一个用户要拿到运营商的服务必须有公有地址，否则不选择你的服务，在中国不一定这样，大家有时候选择少，另外也没有这个意识非要选择一个公有地址。”

第二，互联网缺乏应有的国际竞争，诸如谷歌、脸书等大型互联网服务提供商已经将大量应用迁移到IPv6上，我国部分互联网服务提供商其实也做了部分应用迁移，但深层次服务就不提供了，国内的部分ISP也不在国际大的竞争环境下。另外，运营商和信息提供商互相之间还有抱怨，运营商抱怨ISP不做应用迁移，用户没有访问资源，互联网服务提供商抱怨运营商不发展用户，资源没人用，其实都没有战略眼光。

另外，我国互联网安全监管措施成本和代价很高，在IPv6上面，整个迁移以后需要重新构建。推广迁移的代价有多大呢？知乎上的网络研发工程师时国怀对这一点进行了补充：要想完全推广IPv6，需要从骨干网到终端用户的所有设备都进行一次升级，这里的骨干网不仅仅是电信、联通的网络，还包括银行、铁路、军队等等的内部网路，还包括移动、联通的移动通信的数据网络，不管是哪一个网络的改造，都需要付出巨大的成本。

骨干网改造完了就没事了吗？不是的，还有各种末端设备，家里的网卡、路由器、计算机软件都需要升级。好在主流的操作系统都已经支持了IPv6，其它方面，只能走一步算一步了。

为了推进IPv6规模部署，中共中央办公厅、国务院办公厅印发了《推进互联网协议第六版（IPv6）规模部署行动计划》。大力发展基于IPv6的下一代互联网，有助于提升我国网络信息技术自主创新能力和产业高端发展水平，高效支撑移动互联网、物联网、工业互联网、云计算、大数据、人工智能等新兴领域快速发展，不断催生新技术新业态，促进网络应用进一步繁荣，打造先进开放的下一代互联网技术产业生态。

除了IPv6之外，还有一种更加彻底的对IP的改造方案，很可能导致在智联网时代，IP这个最基本的互联网协议被重塑，因此不得不提。

2020年初，华为公司联合中国联通、中国电信和中国工业和信息化部在联合国国际电信联盟（ITU）会议上共同提议采用一种新的核心网络技术新标准“新IP计划（New IP）”。中国代表将其称为是ITU“着眼于未来”，并“为未来网络承担自上而下的设计责任”。据华为表示，目前支撑全球网络的现有互联网基础设施“不稳定”且“效率严重低下”，到2030年将无法满足数字世界的要求，开发New IP纯粹是为了满足快速发展的数字世界的技术要求。目前，该提案已经获得了俄罗斯的支持，沙特阿拉伯可能也将加入到支持者的行列。

中国科学院计算网络信息中心周旭曾表示，网络5.0的发展核心思路是从核心协议突破，自上而下，创新思路。具体而言，网络5.0需要以网络技术创新为驱动，以IP协议为突破口，设计全维度可定义、协议操作灵活、安全机制内升华的New IP下一代网络协议体系，突破寻址、路由、确定性QoS（Quality of Service，服务质量）、内生安全等下一代网络核心技术。

华为网络技术实验室郑秀丽曾在《New IP：开拓未来数据网络的新连接和新能力》中也提到，TCP/IP协议架构对地面互联网已十分成熟，但未来要面向全世界的是“空、天、地、海”一体化、多种新型异构网络需求的互联互通需求，New IP拥有变长多样化寻址、确定性IP、内生安全、用户可定义及新传输层等，对传统IP能力将是跨时代的提升。

### 3.2 无线通讯技术中最值得关注的3个进展

第二层，管。智联网通信最早只是简单的把两个设备用信号线连接在一起，也就是所谓的物物相连，多采用有线方式。随着大型物联平台的出现，有线连接将渐渐被无线连接取代。无线通信已经成为智联网的基础，常见的无线网络通讯技术有：Wi-Fi、ZigBee、Bluetooth、NB-IoT、LoRa、5G等。它们在组网、功耗、通讯距离、安全性等方面各有差别，因此拥有不同的适用场景。

回顾历史，其实智联网的无线通讯技术从来都没有出现过单一技术称霸的局面，现今更是进入了百花齐放的时代。无论是短距离的Wi-Fi、Bluetooth，还是长距离的LoRa、5G，不太可能出现谁取代谁的局面，更多的会是和谐共荣、扩大生态的基调，这些技术彼此融合、携手满足智联网丰富的应用需求。 除了上面提到的那些通讯技术之外，EUHT-5G、Sidewalk和Thread 1.2三项技术也值得研究。

  
 **EUHT-5G可以说是巧打时间差，进入生态位。**

EUHT-5G（Enhanced Ultra High Throughput-5th Generation，增强型超高吞吐—第五代无线通信技术）是结合未来移动通信系统高可靠、低时延、高移动性等需求设计的无线通信系统。高可靠、低延迟通信（URLLC）是5G技术最重要、最关键，但也是最难以突破的部分。到目前为止，其技术标准制定工作尚未完成，商业化部署更需时日。  
    
 利用这个时间差，EUHT-5G技术目前处于全球领先水平，突破了URLLC的核心难题，并进入商业化应用阶段。EUHT-5G已在轨道交通、高铁等市场开始应用，正在形成自己的应用生态。与3GPP 5G相较，EUHT-5G技术并非定位于公网标准，而是瞄准了细分领域的行业标准和应用，跨越了国际通信组织提出的5G技术标准常规路径。  
    
 该技术由新岸线公司领衔研发，虽然是5G通信技术，但从2008年该公司就已开始了EUHT的技术探索。2012年完成了EUHT的系统设计和标准化工作，并被工信部颁布为中国无线通讯行业标准。2019年EUHT又成为了无线通讯的国家标准。其最核心的两款芯片都具有国内自主知识产权。据闻该技术已部署于京津城际高铁、广州地铁等轨道交通项目，沈阳机床、广东志高空调、广东弘宇等工业互联网项目，并成功参与了北京世园会、篮球世界杯等8K超高清视频直播。 

**Sidewalk让互联网巨头进入“中间地带”。**

最近亚马逊发布了一项名为Sidewalk的低功耗远距离无线技术，能够在比 Wi-Fi或蓝牙等无线网络更大的范围内控制家庭设备。因为Sidewalk的低功耗和长距离特征，亚马逊智能家居产品可以走出家门，进而可以推出各类室外产品，占据社区和个人消费市场。亚马逊推出Sidewalk技术具有重大意义，一方面它展示了互联网巨头推进其无线通信技术的典型路径；另一方面它让亚马逊迈出了强化智能家居生态版图的重要一步。  
    
 Sidewalk这一通讯技术实际上是在LoRa调制技术基础上推出的适用于智能家居和消费级智能硬件中远距离通信的协议。从某种意义上来说，亚马逊得以借助LoRa现有的产业布局来扩大自身生态。亚马逊CEO贝佐斯强调：“人们还没有意识到中间地带的重要性。”

   
 在对外的新闻稿中，亚马逊提到已经向洛杉矶的很多家庭发放了700个测试设备，在短短的三周内，它就覆盖了人口稠密的洛杉矶区域。在Sidewalk的配合下，用户将可以在室内用Echo音箱“呼叫”人行道上的气象站，了解室外实时的降雨情况；在房间里开启花园中的智能灌溉设备；或者监控信报箱内的传感器，查询书刊和信件的投递状态。  
    
 **Thread 1.2开始进军企业级市场。**  
  
 Thread是一种基于IPv6的、低功耗网状网络技术。其具有低功耗、安全可靠和容错性好等优势，解决了市场中对于网状网络技术期待已久的需求：即支持IPv6和6LoWPAN（IPv6 over low-power personal area networks，基于IPv6的低速无线个域网），可为智联网内每一个终端节点带来IP连接能力。最初Thread的设计针对智能家居和楼宇自动化的应用，现其范围已被进一步扩展。  
    
 为了加速Thread协议普及，谷歌母公司Alphabet、三星、ARM、高通、恩智浦半导体等于2014年7月组成了“Thread Group”联盟，推动Thread成为行业标准，并向成员企业的产品提供Thread认证。2019年6月，Thread发布最新版本1.2，在网络连接的可扩展性和新增节点的易接入性方面有了显著提升，并开始进军企业级市场。  


### 3.3 边缘智能正在触发万亿市场

第三层，边。万物互联时代，每人每秒创建的数据量的逐渐增多，给原有云计算模型带来诸多挑战。如此集中式的海量数据处理加重了云数据中心的负担，云计算虽具有强大的处理性能，能够处理海量数据，但是其网络带宽的有限性直接导致了数据传输时较低的时效性。

边缘计算作为一个新兴概念，不同的参与方也从不同的角度对其进行了定义。根据欧洲电信标准协会（ETSI）的定义，多接入边缘计算是指在靠近人、物或数据源头的网络边缘侧，通过融合网络、计算、存储、应用等核心能力的开放平台，就近提供边缘智能服务，满足行业数字化在敏捷联接、实时业务、数据优化、应用智能、安全与隐私保护等方面的关键需求。

通俗的说就是：如果物联网中的“物”发现自己的眉毛着火了，不用按照传统方式先上报给物联网云平台“司令部”，等待云计算平台指示之后再灭火，而是“物”一发现火烧眉毛就自己就直接把火扑灭。“物”可以更自由地进行决策了，也意味着权利和责任都更大。别看这么一小步，真正做到不容易。可想而知，未来数年这个领域将非常令人瞩目。

物联网将计算节点数量和数据量推升到一个更高的层次，引发了计算能力从量变到质变的转化。也就是说，未来的每个节点：无论是智能传感器、智能路灯、智能摄像头、工业机器人…都将会有计算功能。这将是一个非常普遍并具有极强扩展力的弹性计算资源。比现有的云计算服务更加有效，满足超大规模硬件扩张和终端数据急速膨胀的需求。关于边缘计算，有几个基本认识：

·       称之为“边缘”，并不代表其是边缘化的或不重要的，恰恰相反，边缘很重要。

·       边缘并不是指绝对的事物，而是指相对位置。

·       有两种重要的边缘：设备边缘和基础设施边缘。

·       计算将同时存在于边缘和云平台，他们之间的界线越来越难以划分，未来不是云和边缘，而是连成一片的边缘云。

设备边缘的例子包括：独立的边缘设备，智能手机、可穿戴设备和智能网联汽车；网关设备，物联网交换机、路由器；以及，本地服务器。基础设施边缘的例子包括：蜂窝无线基站、区域性的数据中心，和某些特定的中央机房。

在计算能力从量变到质变的转化过程中，边缘计算迅速演进为边缘智能。边缘智能（Edge Intelligence，EI）是指在边缘侧部署人工智能。在使用智联网系统之前，很多人没有意识到大量的智联网数据可能永远都不会被传送到云端，只适合就地进行处理，如果没有被实时处理，数据价值也将不复存在。有些数据的“保鲜期”很短，处理一旦延误，就会迅速“变质”，数据价值呈断崖式跌落。因此不是所有数据都必须上传到云平台，何况关键信息还有可能在传送过程中延误或者受到干扰，尤其是那些通过低功耗广域网传输的信息。智联网企业必须对这些关键数据快速响应以做出决策，要么在短时间内就采取行动，要么就眼睁睁的看着最佳时机溜走。

这时的最佳方案不是云计算，而是分布式计算，它的特征是每个节点都有计算功能，边缘的“速算”能力，对智联网应用来说尤为重要。对于边缘智能，ARM官方以及边缘计算产业联盟（ECC）等企业或机构也给出了相关解释。虽然解释不尽相同，但其含义基本一致。从智联网产业视角看，边缘智能作为智联网的汇聚和控制节点，其涉及到的产业生态涵盖了硬件、软件、设备、运营商、内容提供者、应用开发者等各个环节。随着边缘智能产业参与者数量的增多，我们逐步可以将边缘智能产业链划分为两大类：

第一大类为边缘智能技术、产品、解决方案等核心业务提供商，涉及到研发、生产、经营、应用的闭环流程。主要涵盖边缘载体供应商、边缘业务运营商、服务提供商和最终用户，每一板块下面又由多个子板块构成边缘智能产业链的分工。第二大类为边缘智能闭环流程提供标准制定、产业组织等服务，对应一些标准化组织推出边缘智能端到端标准和参考架构，以及行业协会及联盟等。

目前，边缘智能市场仍处于初期发展阶段。2020年将有超过500亿的终端与设备联网，各行业企业均希望运用边缘计算为客户提供更加智能、便捷的产品和服务，这也意味着边缘计算必将成为智联网终端的发展方向。也正因此，边缘计算市场吸引来多家知名企业布局。

现阶段，边缘智能的发展方向包括：

1\)     用机器的速度取代人的速度；

以每小时60英里速度飞行的无人机，4秒内可以穿越整个足球场，100ms的延迟对它来说可能导致严重的灾难。越来越多的设备和场景都对实时性提出了极高的要求，这会激发对于边缘设备和网络的需求。

2\)     设备数量从百万量级扩展到十亿量级；

我们生活的世界中有数十亿部手机，未来我们将会拥有更多的智能汽车、智能插座、工业机器人、服务机器人…更不用提各种智能的基础设施和摄像头。这些设备都会连入网络，它们会产生ZB量级的数据，以可控的成本快速的处理复杂度较高的大量数据，是边缘计算需要解决的挑战之一。

3\)     从固定架构进化到灵活架构；

开发者正在运用各种各样的“虚拟抽象层”，在全球范围内构建和部署应用程序。虚拟抽象理念的应用，提供了更高的便捷性、更经济的协作方式，以及更高效的产品迭代。未来这种趋势仍将持续，随着自动化和云服务的发展，分布式架构的复杂性将被抽象层所屏蔽。

4\)     提供综合性的多维体验。

我们正在从一个静态的二维互联网，进化到一个场景丰富、体验丰满的数字世界。医生需要复杂的实时反馈，远程操控机器人进行手术；工人需要了解设备的当前信息，以便合理规划生产决策；控制员需要及时了解无人机的位置信息，更好的提升工作质量。结合边缘计算新方法，远程控制、虚拟现实、位置服务等各种各样原有的应用，都将被“重做一遍”。

### 3.4 平台之上的平台、工具与服务

第四层，云。云可以被视为平台，智联网平台具有承上启下的作用，是智联网产业链的枢纽。按照功能，可以将其划分为设备管理、连接管理、应用使能、业务分析等4个大类。事实上，截至目前，没有一家公司能够提供从终端设备管理到业务分析的完整服务，每家平台公司都有自己的专注的领域和优势，也就是说通信厂商、互联网公司、IT公司、垂直行业厂商、创业企业都是基于自身定位，为用户提供以上4个方面的智联网业务能力。

平台可以视为一种技术赋能形态和一种商业模式。作为商业模式，平台经济并非智联网独创，环顾四周，全球接近60%十亿以上估值的独角兽企业都构建了平台生态。从难度超高的平台生态直接起步，“非凡”的智联网平台企业必然会遭遇“非凡”的挫折，具备足够的视野能够看到平台构成之后的开阔锦程，逆推从未来到脚下的布局节奏，才不至迷失。

在《平台革命：改变世界的商业模式》一书中，系统化地论述了平台作为商业模式的诞生和演进。过去，大多数企业采用的传统系统是一种被我们描述成“管道”的东西。与平台不同的是，管道是一步一步创造和传递价值的过程，供应商在一端，而顾客在另一端。公司首先设计产品或服务，制造产品，然后投入市场进行销售或交付服务。最终，用户出现并购买产品或服务。由于它简单、单向的特性，我们也把管道业务称作线性价值链。

在最近几年里，越来越多的商业从管道结构转向平台结构。在转换的过程中，简单的管道格局被转变成一种复杂的关系，供应商、顾客以及平台本身都进入了一个多变的关系网中。在平台世界里，不同的用户利用平台的资源与其他人进行连接和互动。在这个过程中，他们交换、消费，有时共同创造了某些价值。区别于从供应商到顾客的单向流动，价值在不同的地点以不同的形式被创造、改变、交换和使用，所有这些都基于平台的辅助在连接中实现。

每个平台的运营方式各不相同，它们吸引不同的用户，创造不同形式的价值，但在不同的平台公司中有一些相同的基本元素。例如，在移动互联网领域，手机操作系统可以被视为平台，在智联网领域，云服务可以被视为平台。在任何一个平台注册的用户都能享受该平台提供的价值，例如手机内置相机的图像制作功能。然而，他们同时也享受着一群开发者为拓展平台功能而生产内容所创造的价值，例如一个手机APP应用软件的价值是在用户使用苹果手机时实现的。这是由于平台本身使得价值交互成为可能。

实质上，从传统的线性价值链向复杂的平台价值矩阵的转变看起来非常简单、直接。但是这其中隐含的意义令人震惊。一个又一个行业对平台模式的青睐导致在各行各业中产生了一系列翻天覆地的变化。平台之所以能打败管道，是因为平台开发了价值创造的新来源。战略从掌握独有内部资源和构筑有竞争力的壁垒，转变为调动外部资源和激发社群内的活力。此外，创新不再是让专家闭门造车，而是通过众筹、独立参与者在平台上迸发的点子产生的。

哈佛商学院教授、竞争战略之父迈克尔·波特针对智联网产品的生态系统进行了充分的思考。他认为智联网产品不但能重塑一个行业内部的竞争生态，更能扩展行业本身的范围，从产品系统进化到包含子系统的产品体系（System of Systems），不同的产品系统和外部信息组合到一起，相互协调从而整体优化。

波特以智能家居为例，其中包含多个子系统，例如照明系统、空调系统、娱乐系统和安全系统等。如果一家公司的产品对整体系统的性能影响最大，那么它将取得主导性地位，并分得利润蛋糕中最大的一块。

高瞻远瞩的智联网平台公司将进化为系统整合者，取得行业的统治地位。新型智联网平台甚至可能采用“无产品”战略，将打造联接产品的生态系统作为核心优势，而非产品本身。因为平台的多样性、整合性就意味着源头活水的流动性，而流动性本身就会引发变革。

如果把平台模式应用到智联网中，将戏剧性地改变无数个熟悉物品与服务的相关业务流程。用我们熟悉的灯泡举例来说。自从爱迪生申请了专利，白炽灯泡的基本工程设计几乎没有任何变化，而这就是为什么典型的灯泡的零售价只有40美分，其制造商几乎没有利润空间。同时它还效率低下，以热损耗的形式浪费了95%以上的能源。改进的产品，如小型日光灯灯泡（约4美元）和发光二极管（LED，约40美元）使得照明技术效率更高，更有利可图。

但当家居照明系统连接到智联网，灯泡的真正用途改变了。灯可以编程为入侵者警报；当蹒跚学步的幼童出现在楼梯或炉灶附近时，它们可以闪光警告家长；它们可以闪烁来提醒老奶奶服药。带有无线连接的灯可以追踪其他电器的能耗，使灯泡供应商能够向房主和家电公司提供能源管理服务。突然，灯泡制造商宁愿放弃40美元的LED收入以换取提供网络服务带来的持续收入份额。

基于平台的家庭和个人设备之间的连接已经吸引了大部分围绕物联网的宣传。但其实在B2B的世界中，任何变革的潜力都有可能变得更大。高科技投资公司凯鹏华盈把即将到来的创新浪潮称之为“工业觉醒”，并且认为到2030年，工业觉醒在全球将有14.2万亿美元的产出。

经济学家杰里米·里夫金也巧妙地总结了这种进步，以及一些更广泛的含义：“现在有110亿个传感器将设备连接到物联网。到2030年，100兆个传感器将持续地向交通、能源和物流互联网发送大量数据。任何人都将能够访问物联网，并使用大数据和分析来开发预测算法，以加快效率、大幅提高生产率、降低生产和配送物理商品的边际成本直至接近零的水平（包括能源、产品和服务），就像我们现在处理信息商品一样。”我们目前还不能看到大多数物理商品定价为零或接近零。但完全可以说，我们仅刚刚开始想象平台模式的变革潜力。

### 3.5 AIoT应用是数据价值变现的标配

第五层，用。按照用户类型的不同，我们可以将“用”这个层次，划分为消费驱动型、政府驱动型以及产业驱动型应用，三种类型。

·       消费驱动型的应用主要或者直接面向的是个人消费者，比如智慧家庭、穿戴、医疗健康、出行等。

·       政策驱动型则与管理城市有关、与民生挂钩，比如智慧消防、安防、照明、停车等。

·       产业驱动型更多考虑的是相关企业看好并推动的行业，智能工业、智慧物流、车联网、智慧农业等。

总体来看，不论是消费驱动、政府驱动还是产业驱动，终端泛在化、智能化，数据多维化、共享化是未来的趋势，而在广泛分布的智能终端的基础上，基于数据的高效服务是各行业参与者关注的核心领域。

![](.gitbook/assets/image%20%281%29.png)

图3-1 第五层“用”端智联网产业图谱（与比例无关）

值得关注的细分领域极为众多，包括：智能家居、智能门锁、智能音箱、智能穿戴、智慧零售、工业机器人、家庭服务机器人、智能公共事业、智能资产管理与追踪、智慧农业应用、智能环保、智能教育等，有些领域彼此交织，构成了智联网的应用生态（见图3-1所示）。

智联网不是一个独立的产业，它需要应用于国民经济各行各业才有存在的意义。国民经济的很多行业有数十年甚至百年的历史，有自身的发展规律和各种复杂的利益关系，决策周期和项目周期都很长，新的技术大规模渗透其中谈何容易？但是只要各行业开始拥抱智联网，发现数字化转型中的好处，发现收益大于成本时，这就是一个不可逆的过程，给智联网产业带来持续的收益。在后面的章节我们还将对智联网应用展开介绍，这里以旷视科技和小米为例，来说明涉足智联网应用的典型做法：

1.旷视科技——物流

作为诞生于2011年的初创公司，旷视科技在成立6年后，于2017 年市值突破 10 亿美元，跻身AI独角兽行列。与之并列的头部公司包括商汤、依图和云从等。在AIoT时代，旷视希望成为一名AIoT方案与系统专家。为此，旷视找到了一个最适合自己的垂直领域：物流。

在旷视的描述中，天猫超市的一个货仓，工人们一天走的路程，将近40公里，相当于每天走一个马拉松。根据旷视的说法，艾瑞思已在4万平米的仓库中实现了500台机器人的协同作业。

2.小米科技——手机+AIoT

小米的雷军曾多次表示，AIoT才是未来的风口，他也的确把“手机+AIoT”做成了标配。2019小米正式将“手机+AIoT”作为核心战略。作为手机厂商中最先开始布局IoT的企业，截止2019年，小米IoT平台连接设备数（不含手机和笔记本电脑）已达到2.1亿，MIUI全球月活用户达到2.92亿人。2020年初，小米宣布追加5G+AIoT投资至500亿元。

